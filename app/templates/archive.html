{% extends "base.html" %}

{% block title %}ì•„ì´ë””ì–´ ì•„ì¹´ì´ë¸Œ - IdeaOasis{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <h1>ì•„ì´ë””ì–´ ì•„ì¹´ì´ë¸Œ</h1>
    <p>ê³¼ê±°ì— ë°œêµ´ëœ ëª¨ë“  ì°½ì—… ì•„ì´ë””ì–´ë¥¼ ë‘˜ëŸ¬ë³´ì„¸ìš”</p>
</section>

<!-- Main Content -->
<div class="main-content">
    {% if ideas %}
        <!-- Archive Header -->
        <div style="margin-bottom: 3rem;">
            <h2 style="margin-bottom: 0.5rem;">ë°œêµ´ëœ ì•„ì´ë””ì–´ë“¤</h2>
            <p style="color: #666; font-size: 1rem;">ì´ {{ ideas|length }}ê°œì˜ ì•„ì´ë””ì–´ê°€ ìˆìŠµë‹ˆë‹¤</p>
        </div>

        <!-- Ideas Grid -->
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem;">
            {% for idea in ideas %}
            <div class="idea-card">
                {% if demo_mode %}
                    <div class="demo-badge">DEMO MODE</div>
                {% endif %}
                
                <!-- Meta Information -->
                <div class="meta">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <p style="margin-bottom: 0.5rem;">{{ idea.published_at.strftime('%Yë…„ %mì›” %dì¼') }}</p>
                            <p style="margin-bottom: 0;">ì¶œì²˜: {{ idea.source_type.upper() }}</p>
                        </div>
                        <div class="tags">
                            <span class="tag primary">{{ idea.source_type.upper() }}</span>
                            {% if idea.category %}
                            <span class="tag success">{{ idea.category.upper() }}</span>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Idea Title -->
                <h3 style="margin-bottom: 1rem;">{{ idea.idea_title }}</h3>

                <!-- Idea Preview -->
                <div class="idea-preview">
                    {{ idea.summary_kr[:300] }}...
                </div>

                <!-- Action Buttons -->
                <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 1.5rem; border-top: 1px solid #f0f0f0;">
                    <a 
                        href="{{ idea.source_url }}" 
                        target="_blank" 
                        rel="noopener noreferrer"
                        class="btn btn-secondary"
                        style="padding: 0.5rem 1rem; font-size: 0.875rem;"
                    >
                        <span>ì›ë¬¸ ë³´ê¸°</span>
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                    </a>
                    
                    <div class="vote-buttons" style="gap: 0.5rem;">
                        <button 
                            onclick="vote({{ idea.id }}, 'up')"
                            class="vote-btn up"
                            style="padding: 0.375rem 0.75rem; font-size: 0.875rem;"
                        >
                            <span>ğŸ‘</span>
                            <span id="upvotes-{{ idea.id }}">0</span>
                        </button>
                        <button 
                            onclick="vote({{ idea.id }}, 'down')"
                            class="vote-btn down"
                            style="padding: 0.375rem 0.75rem; font-size: 0.875rem;"
                        >
                            <span>ğŸ‘</span>
                            <span id="downvotes-{{ idea.id }}">0</span>
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

    {% else %}
        <!-- No Ideas Available -->
        <div class="card" style="text-align: center; padding: 4rem 2rem;">
            <h2 style="margin-bottom: 2rem;">ì•„ì§ ì•„ì¹´ì´ë¸Œëœ ì•„ì´ë””ì–´ê°€ ì—†ìŠµë‹ˆë‹¤</h2>
            <p style="margin-bottom: 3rem;">
                ë§¤ì¼ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ê°€ ë°œêµ´ë˜ë©´ ì—¬ê¸°ì— ì €ì¥ë©ë‹ˆë‹¤.<br>
                ì ì‹œ í›„ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.
            </p>
            <div style="display: flex; justify-content: center; gap: 1rem;">
                <a href="/" class="btn btn-primary">
                    í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </a>
                <button 
                    onclick="location.reload()"
                    class="btn btn-secondary"
                >
                    ìƒˆë¡œê³ ì¹¨
                </button>
            </div>
        </div>
    {% endif %}

    <!-- Call to Action -->
    <div class="cta">
        <h2>ë” ë§ì€ ì•„ì´ë””ì–´ë¥¼ ì›í•˜ì‹œë‚˜ìš”?</h2>
        <p>
            ë§¤ì¼ ìƒˆë¡œìš´ í•´ì™¸ ì•„ì´ë””ì–´ë¡œ ì°½ì—… ì˜ê°ì„ ì–»ì–´ë³´ì„¸ìš”
        </p>
        <a href="/" class="btn">
            ì˜¤ëŠ˜ì˜ ì•„ì´ë””ì–´ ë³´ê¸°
        </a>
    </div>
</div>
{% endblock %} 