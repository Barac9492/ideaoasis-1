{% extends "base.html" %}

{% block title %}아이디어 아카이브 - IdeaOasis{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <h1>아이디어 아카이브</h1>
    <p>과거에 발굴된 모든 창업 아이디어를 둘러보세요</p>
</section>

<!-- Main Content -->
<div class="main-content">
    {% if ideas %}
        <!-- Archive Header -->
        <div style="margin-bottom: 40px;">
            <h2 style="font-size: 32px; margin-bottom: 8px; color: #1d1d1f;">발굴된 아이디어들</h2>
            <p style="color: #86868b; font-size: 17px;">총 {{ ideas|length }}개의 아이디어가 있습니다</p>
        </div>

        <!-- Ideas Grid -->
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 24px;">
            {% for idea in ideas %}
            <div class="card" style="padding: 24px;">
                {% if demo_mode %}
                    <div class="demo-badge">DEMO MODE</div>
                {% endif %}
                
                <!-- Idea Header -->
                <div style="margin-bottom: 16px;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                        <h3 style="font-size: 20px; color: #1d1d1f; line-height: 1.3;">{{ idea.idea_title }}</h3>
                        <div style="display: flex; gap: 6px;">
                            <span style="padding: 4px 8px; background: #007aff; color: white; border-radius: 8px; font-size: 10px; font-weight: 500;">
                                {{ idea.source_type.upper() }}
                            </span>
                            {% if idea.category %}
                            <span style="padding: 4px 8px; background: #34c759; color: white; border-radius: 8px; font-size: 10px; font-weight: 500;">
                                {{ idea.category.upper() }}
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    <p style="color: #86868b; font-size: 14px;">
                        {{ idea.published_at.strftime('%Y년 %m월 %d일') }}
                    </p>
                </div>

                <!-- Idea Preview -->
                <div style="margin-bottom: 16px;">
                    <p style="color: #1d1d1f; font-size: 15px; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;">
                        {{ idea.summary_kr[:200] }}...
                    </p>
                </div>

                <!-- Action Buttons -->
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <a 
                        href="{{ idea.source_url }}" 
                        target="_blank" 
                        rel="noopener noreferrer"
                        class="btn btn-secondary"
                        style="padding: 8px 16px; font-size: 14px;"
                    >
                        <span>원문 보기</span>
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                    </a>
                    
                    <div class="vote-buttons" style="gap: 8px;">
                        <button 
                            onclick="vote({{ idea.id }}, 'up')"
                            class="vote-btn up"
                            style="padding: 6px 12px; font-size: 13px;"
                        >
                            <span>👍</span>
                            <span id="upvotes-{{ idea.id }}">0</span>
                        </button>
                        <button 
                            onclick="vote({{ idea.id }}, 'down')"
                            class="vote-btn down"
                            style="padding: 6px 12px; font-size: 13px;"
                        >
                            <span>👎</span>
                            <span id="downvotes-{{ idea.id }}">0</span>
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

    {% else %}
        <!-- No Ideas Available -->
        <div class="card" style="text-align: center; padding: 80px 40px;">
            <div style="margin-bottom: 32px;">
                <span style="font-size: 64px;">📚</span>
            </div>
            <h2 style="font-size: 32px; margin-bottom: 16px; color: #1d1d1f;">아직 아카이브된 아이디어가 없습니다</h2>
            <p style="color: #86868b; font-size: 18px; margin-bottom: 32px; line-height: 1.6;">
                매일 새로운 아이디어가 발굴되면 여기에 저장됩니다.<br>
                잠시 후 다시 확인해보세요.
            </p>
            <div style="display: flex; justify-content: center; gap: 16px;">
                <a href="/" class="btn btn-primary">
                    홈으로 돌아가기
                </a>
                <button 
                    onclick="location.reload()"
                    class="btn btn-secondary"
                >
                    새로고침
                </button>
            </div>
        </div>
    {% endif %}

    <!-- Call to Action -->
    <div class="card" style="text-align: center; background: #f5f5f7; border: 1px solid rgba(0, 0, 0, 0.1); margin-top: 40px;">
        <h2 style="font-size: 24px; margin-bottom: 12px; color: #1d1d1f;">더 많은 아이디어를 원하시나요?</h2>
        <p style="color: #86868b; font-size: 17px; margin-bottom: 24px;">
            매일 새로운 해외 아이디어로 창업 영감을 얻어보세요
        </p>
        <a href="/" class="btn btn-primary">
            오늘의 아이디어 보기
        </a>
    </div>
</div>
{% endblock %} 